@using ACTransit.RestroomFinder.Web.Infrastructure

@{
    const string baseTitle = "RestroomFinder";
    var title = string.Format("{0}{1}",baseTitle,ViewBag.Title != null ? " ▶ " + ViewBag.Title : "");
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>ACTransit RestroomFinder - @ViewBag.Title</title>
    <link rel="home" id="ApplicationRoot" href="@Url.Content("~")" />
    <link rel="SHORTCUT ICON" href="~/favicon.ico" />
    @Styles.Render("~/Content/css")
    @Styles.Render("~/Content/sass")
    @Scripts.Render("~/bundles/modernizr")
    @RenderSection("head", required: false)
</head>
    <body>
    <header>
        <div class="identity pull-right">
            <div class="pull-left">Hello @User.Identity.Name</div>
            @if (!string.IsNullOrEmpty(FormsAuthentication.FormsCookieName.Replace(".ASPXAUTH", "")) && Request.Cookies[FormsAuthentication.FormsCookieName] != null)
            {
                using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", style = "display:inline;" }))
                {
                    @Html.AntiForgeryToken()
                    <div class="pull-right">
                        &nbsp;&#124;&nbsp;
                        <a href="javascript:document.getElementById('logoutForm').submit()">Log off</a>
                    </div>
                }
            }
        </div>
        <div><a href='@Href("~")'><img src="~/Content/Images/act_logo_small.png" alt="logo"/></a>
        </div>
        <div class="title"><span style="line-height: 40px; margin-top: 10px; padding: 0 0 5px 5px">@baseTitle@(ViewBag.Title != null ? " ▶ " + ViewBag.Title : "")</span>
        </div>
    </header>
        <nav>
            @Html.Partial("_Menu")
        </nav>
        <div class="container body-content">
            @RenderBody()
            <hr />
            <footer>
                <p>&copy; @DateTime.Now.Year - AC Transit. All Rights Reserved.</p>
            </footer>
        </div>        
        
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/common")
        @Scripts.Render("~/bundles/bootstrap")

        @Html.Partial("_WaitBox")
        @Html.Partial("_Modal")

        @RenderSection("scripts", required: false)

    </body>
</html>
